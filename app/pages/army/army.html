<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">

  <title>Army Detail</title>
  <link rel="stylesheet" href="./army.css">
  <script src="../../lib/host.js"></script>
  <script src="../../lib/functions/uniqueIdentifier.js"></script>
  <script src="../../lib/widgets/warscrollHelpers.js"></script>
  <script src="../../lib/widgets/contextMenu.js"></script>
  <script src="../../lib/widgets/ability.js"></script>
  <script src="../../lib/functions/validateRoster.js"></script>
  <script src="../../lib/functions/exportRoster.js"></script>
  <script src="../../lib/widgets/overlay.js"></script>
  <script src="../../lib/widgets/displayPointsOverlay.js"></script>
  <script src="../../lib/widgets/displayTacticsOverlay.js"></script>
  <script src="../../lib/widgets/displayUpgradeOverlay.js"></script>
  <script src="../../lib/RestAPI/roster.js"></script>
  <script src="../../lib/widgets/header.js"></script>
  <script src="../../lib/widgets/footer.js"></script>
  <script src="../../lib/functions/copyToClipboard.js"></script>
  <script src="./army.js"></script>
</head>

<body>
  <div class="main">

  <div class="main">
  <div class="section">
    <h2>Regiments <button class="clickable-style rectangle-button" onclick="addItem('Regiments')">+</button></h2>

  <div style="display: none;" class="unit-slot" id="unit-slot-prototype" unitIdx="">
    <span style="display: none;" class="unit-idx"></span>
    <div class="unit-header">
      <span class="arrow">›</span>
      <div class="unit-header-left">
        <span class="unit-slot-name">
          <span class="unit-text">Unit Name</span>
        </span>
      </div>

      <div class="unit-header-right">
        <div>
          <span class="unit-label general-label" style="display: none;">GENERAL</span>
          <span class="unit-label reinforced-label" style="display: none;">REINFORCED</span>
          <span class="unit-slot-points"></span>
        </div>
      </div>
    </div>

    <div class="unit-details">
      <div class="section">
        <label class="upgrade-label is-general">
          <input type="checkbox" class="upgrade-checkbox general-checkbox" onchange="toggleCrown(this)"> General
        </label>
        <label class="upgrade-label is-reinforced">
          <input type="checkbox" class="upgrade-checkbox reinforced-checkbox" onchange="toggleReinforced(this)"> Reinforced
        </label>
      </div>
      
      <div class="section available-artefacts">
        <h3>Available Artefacts:</h3>
      </div>
      
      <div class="section available-heroicTraits">
        <h3>Available Heroic Traits:</h3>
      </div>
    </div>
  </div>
  
    <div style='display: none' class="regiment-item" id="regiment-item-prototype" regimentIdx="">
      <span style="display: none;" class="regiment-idx"></span>
      <div class="regiment-header" style="display: flex; align-items: center; gap: 0.5rem;">
          <span class="regiment-item-title"></span>
          <span class="regiment-item-points" style="margin-left:auto;"></span>
      </div>
      
      <!-- Content that will hold hero/units -->
      <div class="regiment-content" style="margin-top: 0.5rem;"></div>

      <!-- Add button below content -->
      <div class="clickable-style" style="display: flex; align-items: center; gap: 0.5rem;">
        <button class="full-rectangle-button" onclick="addEntry(this)">Add Unit +</button>
      </div>
    </div>

    <div class="section-container" id="regiments"></div>
  </div>

  <div class="section">
    <h2>Auxiliary Units <button class="rectangle-button" onclick="addItem('Auxiliary Units')">+</button></h2>
    <div class="section-container" id="auxiliary"></div>
  </div>
  
  <div class="section">
    <h2>Battle Traits</h2>
    <div class="section-container" id="battleTraits"></div>
  </div>

  <div class="section">
    <h2>Battle Formation <button class="rectangle-button" onclick="addItem('Battle Formation')">⚙︎</button></h2>
    <div class="section-container" id="battleFormation"></div>
  </div>

  <div class="section">
    <h2>Lores <button class="rectangle-button" onclick="addItem('Lores')">+</button></h2>
    <div class="section-container" id="lores"></div>
  </div>

  <div class="section">
    <h2>Battle Tactics <button class="rectangle-button" onclick="addItem('Battle Tactics')">+</button></h2>
    <div class="section-container" id="tactics"></div>
  </div>

  <div class="section">
    <h2>Faction Terrain <button class="rectangle-button" onclick="addItem('Faction Terrain')">⚙︎</button></h2>
    <div class="section-container" id="terrain"></div>
  </div>

  <script>
    initializeHeader({name:'', leftButton: true, rightButton: true});
    loadArmy(true);
    addOverlayListener();
    initializeFooter('../..');
  </script>
</body>
</html>
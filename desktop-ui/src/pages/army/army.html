<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">

  <title>Army Detail</title>
  <link rel="stylesheet" href="./army.css">
  <script src="../../lib/host.js"></script>
  <script src="../../lib/widgets/contextMenu.js"></script>
  <script src="../../lib/roster.js"></script>
  <script src="./army.js"></script>
</head>

<body>
  <header>
    <button class="back-btn" onclick="goBack()">‚Üê</button>
    <span id="army-header">Army Name</span>
    <button class="export-btn" onclick="exportList()">^</button>
  </header>
  
  <div class="main">
  <div class="section">
    <h2>Regiments <button class="rectangle-button" onclick="addItem('Regiments')">+</button></h2>

  <div style="display: none;" class="unit-slot" id="unit-slot-prototype" unitIdx="">
    <span style="display: none;" class="unit-idx"></span>
    <div class="unit-header">
      <span onclick="toggleUnit(this)" class="arrow">></span>
      <div class="unit-header-left">
        <span class="unit-slot-name">
          <span class="unit-text">Unit Name</span>
        </span>
      </div>

      <div class="unit-header-right">
        <div>
          <span class="unit-label general-label" style="display: none;">GENERAL</span>
          <span class="unit-label reinforced-label" style="display: none;">REINFORCED</span>
          <span class="unit-slot-points">100 pts</span>
        </div>
      </div>
    </div>

    <div class="unit-details">
      <label class="is-general">
        <input type="checkbox" class="general-checkbox" onchange="toggleCrown(this)"> General
      </label>
      <label class="is-reinforced">
        <input type="checkbox" class="reinforced-checkbox" onchange="toggleReinforced(this)"> Reinforced
      </label>
      <button class="add-artifact">Add Artifact</button>
      <button class="add-trait">Add Heroic Trait</button>
    </div>
  
  </div>
  
    <div style='display: none' class="regiment-item" id="regiment-item-prototype" regimentIdx="">
      <span style="display: none;" class="regiment-idx"></span>
      <div class="regiment-header" style="display: flex; align-items: center; gap: 0.5rem;">
          <span class="regiment-item-title"></span>
          <span class="regiment-item-points" style="margin-left:auto;"></span>
      </div>
      
      <!-- Content that will hold hero/units -->
      <div class="regiment-content" style="margin-top: 0.5rem;"></div>

      <!-- Add button below content -->
      <div style="display: flex; align-items: center; gap: 0.5rem;">
        <button class="full-rectangle-button" class="menu-btn" onclick="addEntry(this)">Add Unit +</button>
      </div>
    </div>

    <div id="regiments">
      
    </div>
  </div>

  <div class="section">
    <h2>Auxiliary Units <button class="rectangle-button" onclick="addItem('Auxiliary Units')">+</button></h2>
    <div id="auxiliary"></div>
  </div>

  <div class="section">
    <h2>Battle Formation <button class="rectangle-button" onclick="addItem('Battle Formation')">+</button></h2>
    <div id="battleFormation"></div>
  </div>

  <div class="section">
    <h2>Lores <button class="rectangle-button" onclick="addItem('Lores')">+</button></h2>
    <div id="lores"></div>
  </div>

  <div class="section">
    <h2>Battle Tactics <button class="rectangle-button" onclick="addItem('Battle Tactics')">+</button></h2>
    <div id="tactics"></div>
  </div>

  <div class="section">
    <h2>Faction Terrain <button class="rectangle-button" onclick="addItem('Faction Terrain')">+</button></h2>
    <div id="terrain"></div>
  </div>
  <!--
  <div class="section">
    <h2>Regiments of Renown <button onclick="addItem('Regiments of Renown')">+</button></h2>
    <div id="renown"></div>
  </div>
-->
 <!-- this is just a buffer for the points overlay -->
  <div class="section">
    <h2>  </h2>
    <div id="renown"></div>
  </div>

  <div id="pointsOverlay">0 / 2000 points</div>
  </div>
  
  <script>loadArmy(true);</script>
</body>
</html>
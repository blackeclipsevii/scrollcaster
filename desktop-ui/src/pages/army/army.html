<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">

  <title>Army Detail</title>
  <link rel="stylesheet" href="./army.css">
  <script src="../../lib/host.js"></script>
  <script src="../../lib/widgets/warscrollHelpers.js"></script>
  <script src="../../lib/widgets/contextMenu.js"></script>
  <script src="../../lib/widgets/ability.js"></script>
  <script src="../../lib/functions/validateRoster.js"></script>
  <script src="../../lib/functions/exportRoster.js"></script>
  <script src="../../lib/widgets/overlay.js"></script>
  <script src="../../lib/widgets/getScrollbarWidth.js"></script>
  <script src="../../lib/widgets/displayTacticsOverlay.js"></script>
  <script src="../../lib/widgets/displayUpgradeOverlay.js"></script>
  <script src="../../lib/roster.js"></script>
  <script src="../../lib/widgets/footer.js"></script>
  <script src="./army.js"></script>
</head>

<body>
  <header>
    <div class="header-left">
      <button class="back-btn" onclick="goBack()">‚Üê</button>
    </div>
    <div class="header-center">
      <span id="army-header"></span>
    </div>
    <div class="header-right">
      <button class="export-btn" onclick="exportListAndDisplay()">^</button>
    </div>
  </header>
  
  <div class="main">
  <div class="overlay" id="overlay">
    <div class="modal">
      
    </div>
  </div>

  <div class="main">
  <div class="section">
    <h2>Regiments <button class="rectangle-button" onclick="addItem('Regiments')">+</button></h2>

  <div style="display: none;" class="unit-slot" id="unit-slot-prototype" unitIdx="">
    <span style="display: none;" class="unit-idx"></span>
    <div class="unit-header">
      <span onclick="toggleUnit(this)" class="arrow">></span>
      <div class="unit-header-left">
        <span class="unit-slot-name">
          <span class="unit-text">Unit Name</span>
        </span>
      </div>

      <div class="unit-header-right">
        <div>
          <span class="unit-label general-label" style="display: none;">GENERAL</span>
          <span class="unit-label reinforced-label" style="display: none;">REINFORCED</span>
          <span class="unit-slot-points">100 pts</span>
        </div>
      </div>
    </div>

    <div class="unit-details">
      <div class="section">
        <label class="upgrade-label is-general">
          <input type="checkbox" class="upgrade-checkbox general-checkbox" onchange="toggleCrown(this)"> General
        </label>
        <label class="upgrade-label is-reinforced">
          <input type="checkbox" class="upgrade-checkbox reinforced-checkbox" onchange="toggleReinforced(this)"> Reinforced
        </label>
      </div>
      
      <div class="section available-artefacts">
        <h3>Available Artefacts:</h3>
      </div>
      
      <div class="section available-heroicTraits">
        <h3>Available Heroic Traits:</h3>
      </div>
    </div>
  
  </div>
  
    <div style='display: none' class="regiment-item" id="regiment-item-prototype" regimentIdx="">
      <span style="display: none;" class="regiment-idx"></span>
      <div class="regiment-header" style="display: flex; align-items: center; gap: 0.5rem;">
          <span class="regiment-item-title"></span>
          <span class="regiment-item-points" style="margin-left:auto;"></span>
      </div>
      
      <!-- Content that will hold hero/units -->
      <div class="regiment-content" style="margin-top: 0.5rem;"></div>

      <!-- Add button below content -->
      <div style="display: flex; align-items: center; gap: 0.5rem;">
        <button class="full-rectangle-button" class="menu-btn" onclick="addEntry(this)">Add Unit +</button>
      </div>
    </div>

    <div id="regiments">
      
    </div>
  </div>

  <div class="section">
    <h2>Auxiliary Units <button class="rectangle-button" onclick="addItem('Auxiliary Units')">+</button></h2>
    <div id="auxiliary"></div>
  </div>

  <div class="section">
    <h2>Battle Formation <button class="rectangle-button" onclick="addItem('Battle Formation')">+</button></h2>
    <div id="battleFormation"></div>
  </div>

  <div class="section">
    <h2>Lores <button class="rectangle-button" onclick="addItem('Lores')">+</button></h2>
    <div id="lores"></div>
  </div>

  <div class="section">
    <h2>Battle Tactics <button class="rectangle-button" onclick="addItem('Battle Tactics')">+</button></h2>
    <div id="tactics"></div>
  </div>

  <div class="section">
    <h2>Faction Terrain <button class="rectangle-button" onclick="addItem('Faction Terrain')">+</button></h2>
    <div id="terrain"></div>
  </div>
  <!--
  <div class="section">
    <h2>Regiments of Renown <button onclick="addItem('Regiments of Renown')">+</button></h2>
    <div id="renown"></div>
  </div>
-->
 <!-- this is just a buffer for the points overlay -->
  <div class="section">
    <h2>  </h2>
    <div id="renown"></div>
  </div>
  <div class="section">
    <h2>  </h2>
    <div id="goose"></div>
  </div>
  <div id="pointsOverlay">

  </div>
  </div>

  <footer>
    <div class='footer-left'>
      <p id='catalog-button'>CLOG</p>
    </div>
    <div class='footer-right'>
      <p id='army-button'>ARMY</p>
    </div>
  </footer>
  <script>
    loadArmy(true);
    addOverlayListener();
    initializeFooter('../..');
  </script>
</body>
</html>